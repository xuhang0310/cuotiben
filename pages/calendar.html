<!-- ËâæÂÆæÊµ©ÊñØÊó•ÂéÜÈ°µÈù¢ -->
<div id="calendar" class="ant-page">
    <div class="page-header">
        <h2 class="page-title">ËâæÂÆæÊµ©ÊñØÂ§ç‰π†Êó•ÂéÜ</h2>
        <div class="page-actions">
            <button class="ant-btn ant-btn-default" id="todayBtn">
                <i class="fas fa-calendar-day"></i>
                ‰ªäÂ§©
            </button>
            <button class="ant-btn ant-btn-primary" id="addPlanBtn">
                <i class="fas fa-plus"></i>
                Ê∑ªÂä†ËÆ°Âàí
            </button>
        </div>
    </div>
    
    <div class="calendar-container">
        <!-- Êó•ÂéÜÂØºËà™ -->
        <div class="calendar-nav">
            <button class="nav-btn" id="prevMonth">
                <i class="fas fa-chevron-left"></i>
            </button>
            <div class="current-month" id="currentMonth">
                2024Âπ¥1Êúà
            </div>
            <button class="nav-btn" id="nextMonth">
                <i class="fas fa-chevron-right"></i>
            </button>
        </div>
        
        <!-- Â§ç‰π†ÁªüËÆ° -->
        <div class="review-stats">
            <div class="stat-item">
                <div class="stat-icon">üìö</div>
                <div class="stat-content">
                    <div class="stat-number">15</div>
                    <div class="stat-label">‰ªäÊó•Â§ç‰π†</div>
                </div>
            </div>
            <div class="stat-item">
                <div class="stat-icon">‚úÖ</div>
                <div class="stat-content">
                    <div class="stat-number">12</div>
                    <div class="stat-label">Â∑≤ÂÆåÊàê</div>
                </div>
            </div>
            <div class="stat-item">
                <div class="stat-icon">‚è∞</div>
                <div class="stat-content">
                    <div class="stat-number">3</div>
                    <div class="stat-label">ÂæÖÂ§ç‰π†</div>
                </div>
            </div>
            <div class="stat-item">
                <div class="stat-icon">üî•</div>
                <div class="stat-content">
                    <div class="stat-number">7</div>
                    <div class="stat-label">ËøûÁª≠Â§©Êï∞</div>
                </div>
            </div>
        </div>
        
        <!-- Êó•ÂéÜ‰∏ª‰Ωì -->
        <div class="calendar-main">
            <div class="calendar-grid">
                <!-- ÊòüÊúüÊ†áÈ¢ò -->
                <div class="weekdays">
                    <div class="weekday">Êó•</div>
                    <div class="weekday">‰∏Ä</div>
                    <div class="weekday">‰∫å</div>
                    <div class="weekday">‰∏â</div>
                    <div class="weekday">Âõõ</div>
                    <div class="weekday">‰∫î</div>
                    <div class="weekday">ÂÖ≠</div>
                </div>
                
                <!-- Êó•ÊúüÁΩëÊ†º -->
                <div class="days-grid" id="daysGrid">
                    <!-- ‰∏äÊúàÊú´Â∞æÊó•Êúü -->
                    <div class="day other-month">29</div>
                    <div class="day other-month">30</div>
                    <div class="day other-month">31</div>
                    
                    <!-- ÂΩìÊúàÊó•Êúü -->
                    <div class="day" data-date="2024-01-01">
                        <div class="day-number">1</div>
                        <div class="day-tasks">
                            <div class="task-dot task-review"></div>
                        </div>
                    </div>
                    <div class="day" data-date="2024-01-02">
                        <div class="day-number">2</div>
                        <div class="day-tasks">
                            <div class="task-dot task-new"></div>
                            <div class="task-dot task-review"></div>
                        </div>
                    </div>
                    <div class="day" data-date="2024-01-03">
                        <div class="day-number">3</div>
                        <div class="day-tasks">
                            <div class="task-dot task-completed"></div>
                        </div>
                    </div>
                    <div class="day" data-date="2024-01-04">
                        <div class="day-number">4</div>
                    </div>
                    <div class="day" data-date="2024-01-05">
                        <div class="day-number">5</div>
                        <div class="day-tasks">
                            <div class="task-dot task-review"></div>
                            <div class="task-dot task-review"></div>
                        </div>
                    </div>
                    <div class="day" data-date="2024-01-06">
                        <div class="day-number">6</div>
                    </div>
                    <div class="day" data-date="2024-01-07">
                        <div class="day-number">7</div>
                        <div class="day-tasks">
                            <div class="task-dot task-new"></div>
                        </div>
                    </div>
                    
                    <!-- ÁªßÁª≠ÁîüÊàêÊõ¥Â§öÊó•Êúü... -->
                    <div class="day" data-date="2024-01-08">
                        <div class="day-number">8</div>
                    </div>
                    <div class="day" data-date="2024-01-09">
                        <div class="day-number">9</div>
                        <div class="day-tasks">
                            <div class="task-dot task-review"></div>
                        </div>
                    </div>
                    <div class="day" data-date="2024-01-10">
                        <div class="day-number">10</div>
                        <div class="day-tasks">
                            <div class="task-dot task-completed"></div>
                            <div class="task-dot task-completed"></div>
                        </div>
                    </div>
                    <div class="day" data-date="2024-01-11">
                        <div class="day-number">11</div>
                    </div>
                    <div class="day" data-date="2024-01-12">
                        <div class="day-number">12</div>
                        <div class="day-tasks">
                            <div class="task-dot task-new"></div>
                            <div class="task-dot task-review"></div>
                        </div>
                    </div>
                    <div class="day today" data-date="2024-01-13">
                        <div class="day-number">13</div>
                        <div class="day-tasks">
                            <div class="task-dot task-review"></div>
                            <div class="task-dot task-review"></div>
                            <div class="task-dot task-new"></div>
                        </div>
                    </div>
                    <div class="day" data-date="2024-01-14">
                        <div class="day-number">14</div>
                    </div>
                    
                    <!-- ÁªßÁª≠Âà∞ÊúàÊú´... -->
                    <div class="day" data-date="2024-01-15">
                        <div class="day-number">15</div>
                        <div class="day-tasks">
                            <div class="task-dot task-review"></div>
                        </div>
                    </div>
                    <!-- ÁúÅÁï•ÂÖ∂‰ªñÊó•Êúü‰ª•ËäÇÁúÅÁ©∫Èó¥ -->
                    <div class="day" data-date="2024-01-31">
                        <div class="day-number">31</div>
                    </div>
                    
                    <!-- ‰∏ãÊúàÂºÄÂßãÊó•Êúü -->
                    <div class="day other-month">1</div>
                    <div class="day other-month">2</div>
                    <div class="day other-month">3</div>
                </div>
            </div>
            
            <!-- Êó•Á®ãËØ¶ÊÉÖ‰æßÊ†è -->
            <div class="schedule-sidebar">
                <div class="sidebar-header">
                    <h3>‰ªäÊó•Â§ç‰π†ËÆ°Âàí</h3>
                    <span class="date-info">1Êúà13Êó• Âë®ÂÖ≠</span>
                </div>
                
                <div class="schedule-list">
                    <div class="schedule-item">
                        <div class="schedule-time">09:00</div>
                        <div class="schedule-content">
                            <div class="schedule-title">Êï∞Â≠¶ - ÂáΩÊï∞‰∏éÂØºÊï∞</div>
                            <div class="schedule-desc">Á¨¨1Ê¨°Â§ç‰π† (Êñ∞Â≠¶‰π†)</div>
                            <div class="schedule-questions">5ÈÅìÈ¢òÁõÆ</div>
                        </div>
                        <div class="schedule-status status-pending">
                            <i class="fas fa-clock"></i>
                        </div>
                    </div>
                    
                    <div class="schedule-item">
                        <div class="schedule-time">10:30</div>
                        <div class="schedule-content">
                            <div class="schedule-title">Áâ©ÁêÜ - ÁîµÁ£ÅÊÑüÂ∫î</div>
                            <div class="schedule-desc">Á¨¨2Ê¨°Â§ç‰π† (1Â§©Âêé)</div>
                            <div class="schedule-questions">3ÈÅìÈ¢òÁõÆ</div>
                        </div>
                        <div class="schedule-status status-completed">
                            <i class="fas fa-check"></i>
                        </div>
                    </div>
                    
                    <div class="schedule-item">
                        <div class="schedule-time">14:00</div>
                        <div class="schedule-content">
                            <div class="schedule-title">ÂåñÂ≠¶ - ÊúâÊú∫ÂåñÂ≠¶</div>
                            <div class="schedule-desc">Á¨¨3Ê¨°Â§ç‰π† (2Â§©Âêé)</div>
                            <div class="schedule-questions">4ÈÅìÈ¢òÁõÆ</div>
                        </div>
                        <div class="schedule-status status-completed">
                            <i class="fas fa-check"></i>
                        </div>
                    </div>
                    
                    <div class="schedule-item">
                        <div class="schedule-time">16:00</div>
                        <div class="schedule-content">
                            <div class="schedule-title">ÁîüÁâ© - ÈÅó‰º†Â≠¶</div>
                            <div class="schedule-desc">Á¨¨4Ê¨°Â§ç‰π† (4Â§©Âêé)</div>
                            <div class="schedule-questions">6ÈÅìÈ¢òÁõÆ</div>
                        </div>
                        <div class="schedule-status status-pending">
                            <i class="fas fa-clock"></i>
                        </div>
                    </div>
                    
                    <div class="schedule-item">
                        <div class="schedule-time">19:00</div>
                        <div class="schedule-content">
                            <div class="schedule-title">Êï∞Â≠¶ - Á´ã‰ΩìÂá†‰Ωï</div>
                            <div class="schedule-desc">Á¨¨5Ê¨°Â§ç‰π† (7Â§©Âêé)</div>
                            <div class="schedule-questions">2ÈÅìÈ¢òÁõÆ</div>
                        </div>
                        <div class="schedule-status status-pending">
                            <i class="fas fa-clock"></i>
                        </div>
                    </div>
                </div>
                
                <div class="sidebar-actions">
                    <button class="action-btn primary" onclick="startTodayReview()">
                        <i class="fas fa-play"></i>
                        ÂºÄÂßãÂ§ç‰π†
                    </button>
                    <button class="action-btn" onclick="markAllCompleted()">
                        <i class="fas fa-check-double"></i>
                        ÂÖ®ÈÉ®ÂÆåÊàê
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Â§ç‰π†ËßÑÂæãËØ¥Êòé -->
        <div class="ebbinghaus-info">
            <h3>ËâæÂÆæÊµ©ÊñØÈÅóÂøòÊõ≤Á∫øÂ§ç‰π†ËßÑÂæã</h3>
            <div class="review-timeline">
                <div class="timeline-item">
                    <div class="timeline-dot first">1</div>
                    <div class="timeline-content">
                        <div class="timeline-title">Á¨¨1Ê¨°Â§ç‰π†</div>
                        <div class="timeline-desc">Â≠¶‰π†ÂêéÁ´ãÂç≥Â§ç‰π†</div>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot second">2</div>
                    <div class="timeline-content">
                        <div class="timeline-title">Á¨¨2Ê¨°Â§ç‰π†</div>
                        <div class="timeline-desc">1Â§©Âêé</div>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot third">3</div>
                    <div class="timeline-content">
                        <div class="timeline-title">Á¨¨3Ê¨°Â§ç‰π†</div>
                        <div class="timeline-desc">2Â§©Âêé</div>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot fourth">4</div>
                    <div class="timeline-content">
                        <div class="timeline-title">Á¨¨4Ê¨°Â§ç‰π†</div>
                        <div class="timeline-desc">4Â§©Âêé</div>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot fifth">5</div>
                    <div class="timeline-content">
                        <div class="timeline-title">Á¨¨5Ê¨°Â§ç‰π†</div>
                        <div class="timeline-desc">7Â§©Âêé</div>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot sixth">6</div>
                    <div class="timeline-content">
                        <div class="timeline-title">Á¨¨6Ê¨°Â§ç‰π†</div>
                        <div class="timeline-desc">15Â§©Âêé</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Ê∑ªÂä†ËÆ°ÂàíÊ®°ÊÄÅÊ°Ü -->
    <div class="modal" id="addPlanModal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Ê∑ªÂä†Â§ç‰π†ËÆ°Âàí</h3>
                <button class="modal-close" onclick="closeAddPlanModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>ÈÄâÊã©È¢òÁõÆÔºö</label>
                    <select class="ant-select" id="questionSelect">
                        <option value="">ËØ∑ÈÄâÊã©È¢òÁõÆ</option>
                        <option value="q001">Êï∞Â≠¶ - ÂáΩÊï∞‰∏éÂØºÊï∞ #001</option>
                        <option value="q002">Áâ©ÁêÜ - ÁîµÁ£ÅÊÑüÂ∫î #002</option>
                        <option value="q003">ÂåñÂ≠¶ - ÊúâÊú∫ÂåñÂ≠¶ #003</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>ÂºÄÂßãÊó•ÊúüÔºö</label>
                    <input type="date" class="ant-input" id="startDate">
                </div>
                <div class="form-group">
                    <label>Â§ç‰π†Êó∂Èó¥Ôºö</label>
                    <input type="time" class="ant-input" id="reviewTime">
                </div>
                <div class="form-group">
                    <label>Â§áÊ≥®Ôºö</label>
                    <textarea class="ant-input" id="planNote" placeholder="Ê∑ªÂä†Â§áÊ≥®‰ø°ÊÅØ..."></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="ant-btn ant-btn-default" onclick="closeAddPlanModal()">ÂèñÊ∂à</button>
                <button class="ant-btn ant-btn-primary" onclick="savePlan()">‰øùÂ≠ò</button>
            </div>
        </div>
    </div>
</div>

<script>
// È°µÈù¢ÂàùÂßãÂåñ
document.addEventListener('DOMContentLoaded', function() {
    initCalendarPage();
});

function initCalendarPage() {
    bindCalendarEvents();
    loadCalendarData();
    highlightToday();
}

function bindCalendarEvents() {
    // Êúà‰ªΩÂØºËà™
    const prevBtn = document.getElementById('prevMonth');
    const nextBtn = document.getElementById('nextMonth');
    
    if (prevBtn) {
        prevBtn.addEventListener('click', () => changeMonth(-1));
    }
    
    if (nextBtn) {
        nextBtn.addEventListener('click', () => changeMonth(1));
    }
    
    // ‰ªäÂ§©ÊåâÈíÆ
    const todayBtn = document.getElementById('todayBtn');
    if (todayBtn) {
        todayBtn.addEventListener('click', goToToday);
    }
    
    // Ê∑ªÂä†ËÆ°ÂàíÊåâÈíÆ
    const addPlanBtn = document.getElementById('addPlanBtn');
    if (addPlanBtn) {
        addPlanBtn.addEventListener('click', () => {
            document.getElementById('addPlanModal').style.display = 'flex';
        });
    }
    
    // Êó•ÊúüÁÇπÂáª‰∫ã‰ª∂
    const days = document.querySelectorAll('.day[data-date]');
    days.forEach(day => {
        day.addEventListener('click', function() {
            selectDate(this.dataset.date);
        });
    });
}

function loadCalendarData() {
    // Ê®°ÊãüÂä†ËΩΩÊó•ÂéÜÊï∞ÊçÆ
    console.log('Loading calendar data...');
}

function highlightToday() {
    const today = new Date();
    const todayStr = today.toISOString().split('T')[0];
    const todayElement = document.querySelector(`[data-date="${todayStr}"]`);
    
    if (todayElement) {
        todayElement.classList.add('today');
    }
}

function changeMonth(direction) {
    console.log('Changing month:', direction);
    // ÂÆûÁé∞Êúà‰ªΩÂàáÊç¢ÈÄªËæë
}

function goToToday() {
    console.log('Going to today...');
    // Ë∑≥ËΩ¨Âà∞‰ªäÂ§©
}

function selectDate(date) {
    console.log('Selected date:', date);
    // ÈÄâÊã©Êó•ÊúüÔºåÊõ¥Êñ∞‰æßÊ†èÂÜÖÂÆπ
    
    // ÁßªÈô§‰πãÂâçÁöÑÈÄâ‰∏≠Áä∂ÊÄÅ
    document.querySelectorAll('.day.selected').forEach(day => {
        day.classList.remove('selected');
    });
    
    // Ê∑ªÂä†Êñ∞ÁöÑÈÄâ‰∏≠Áä∂ÊÄÅ
    const selectedDay = document.querySelector(`[data-date="${date}"]`);
    if (selectedDay) {
        selectedDay.classList.add('selected');
    }
}

function startTodayReview() {
    console.log('Starting today review...');
    // ÂºÄÂßã‰ªäÊó•Â§ç‰π†
}

function markAllCompleted() {
    console.log('Marking all as completed...');
    // Ê†áËÆ∞ÂÖ®ÈÉ®ÂÆåÊàê
}

function closeAddPlanModal() {
    document.getElementById('addPlanModal').style.display = 'none';
}

function savePlan() {
    const question = document.getElementById('questionSelect').value;
    const startDate = document.getElementById('startDate').value;
    const reviewTime = document.getElementById('reviewTime').value;
    const note = document.getElementById('planNote').value;
    
    console.log('Saving plan:', { question, startDate, reviewTime, note });
    
    // ‰øùÂ≠òËÆ°ÂàíÈÄªËæë
    closeAddPlanModal();
}
</script>