<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>错题本 - 智能学习助手</title>
    
    <!-- Ant Design CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/antd@5.12.8/dist/reset.css">
    
    <!-- 模块化样式 -->
    <link rel="stylesheet" href="styles/main.css">
    
    <!-- 字体 -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- 图标 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="ant-app">
        <!-- 顶部导航栏 -->
        <div id="header-container"></div>
        
        <!-- 主内容区 -->
        <div class="ant-layout">
            <!-- 侧边栏 -->
            <div id="sidebar-container"></div>
            
            <!-- 内容区域 -->
            <main class="content-area">
                <div id="page-container">
                    <!-- 页面内容将通过路由动态加载 -->
                </div>
            </main>
        </div>
    </div>
    
    <!-- 遮罩层 -->
    <div class="overlay" id="overlay"></div>
    
    <!-- 核心脚本 -->
    <script src="scripts/core/data-manager.js"></script>
    <script src="scripts/core/ui-renderer.js"></script>
    <script src="scripts/core/app-controller.js"></script>
    <script src="scripts/utils/helpers.js"></script>
    
    <!-- 应用初始化 -->
    <script>
        // 应用初始化
        document.addEventListener('DOMContentLoaded', function() {
            // 加载公共组件
            loadComponent('header-container', 'components/header.html');
            loadComponent('sidebar-container', 'components/sidebar.html');
            
            // 初始化应用
            const app = new AppController();
            app.init();
            
            // 默认加载错题列表页
            app.navigateTo('questions');
        });
        
        // 组件加载函数
        async function loadComponent(containerId, componentPath) {
            try {
                const response = await fetch(componentPath);
                const html = await response.text();
                document.getElementById(containerId).innerHTML = html;
            } catch (error) {
                console.error(`Failed to load component: ${componentPath}`, error);
            }
        }
        
        // 页面加载函数
        async function loadPage(pagePath) {
            try {
                const response = await fetch(pagePath);
                const html = await response.text();
                document.getElementById('page-container').innerHTML = html;
            } catch (error) {
                console.error(`Failed to load page: ${pagePath}`, error);
            }
        }
    </script>
</body>
</html>